version: 1

# Frontend (React app) configuration
builders:
    frontend:
        # Navigate to the React app folder
        context: ./ppmtool-react-client
        # The build command for your React app
        # For example, if you're using npm:
        command: npm install && npm run build
    frontend_output:
        # The path to the built files for your React app
        # This path should match the output directory defined in your React app's build configuration
        # For example, if you're using Create React App, the default output directory is "build"
        path: ./ppmtool-react-client/build

deployments:
    # Define the name of your React app deployment
    react_app:
        # The builder to use for this deployment (in this case, the one we defined above)
        builder: frontend
        # The output from the builder that should be deployed
        # (in this case, the output generated in the "frontend_output" step)
        output: frontend_output
        # Set environment variables if needed
        # For example, you might need to set the NODE_ENV for production builds
        env:
            NODE_ENV: production
        # Add any required environment variables for your React app
        # For example, if your app requires an API base URL
        # API_BASE_URL: https://example.com/api

# Backend (Spring Boot app) configuration
builders:
    backend:
        # Navigate to the Spring Boot app folder
        context: ./project_management_tool
        # The build command for your Spring Boot app
        # For example, if you're using Maven:
        command: mvn clean package -DskipTests
    backend_output:
        # The path to the built JAR file for your Spring Boot app
        # This path should match the output directory defined in your Spring Boot app's build configuration
        path: ./project_management_tool/target/project_management_tool-0.0.1-SNAPSHOT.jar

deployments:
    # Define the name of your Spring Boot app deployment
    spring_backend:
        # The builder to use for this deployment (in this case, the one we defined above)
        builder: backend
        # The output from the builder that should be deployed
        # (in this case, the output generated in the "backend_output" step)
        output: backend_output
        # Add any required environment variables for your Spring Boot app
        # For example, if your app requires a MySQL connection URL
        # SPRING_DATASOURCE_URL: jdbc:mysql://<mysql-host>:<mysql-port>/your_database
        # SPRING_DATASOURCE_USERNAME: your_mysql_username
        # SPRING_DATASOURCE_PASSWORD: your_mysql_password
